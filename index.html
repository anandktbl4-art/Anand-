<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visitor Intelligence Dashboard</title>

<style>
body{
    background:#000;
    color:#00ff00;
    font-family:Consolas, monospace;
    text-align:center;
    padding:20px;
}

button{
    background:#00ff00;
    color:#000;
    padding:8px 15px;
    margin:5px;
    border:none;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
}

.box{
    border:2px solid #00ff00;
    padding:15px;
    border-radius:10px;
    margin-top:20px;
}

iframe{
    width:100%;
    height:260px;
    border:2px solid #00ff00;
}

.loader{
    font-size:22px;
    margin-top:40px;
    animation:blink 1s infinite;
}

@keyframes blink{
    50%{opacity:0;}
}
</style>
</head>
<body>

<!-- LANGUAGE SWITCH -->
<button onclick="setLang('en')">English</button>
<button onclick="setLang('kn')">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>

<div class="loader">üîç Scanning Visitor‚Ä¶ Please wait...</div>

<div class="box" id="dataBox" style="display:none;">
    <h2 id="title">Visitor Intelligence Report</h2>

    <p id="device"></p>
    <p id="browser"></p>
    <p id="ram"></p>
    <p id="network"></p>
    <p id="battery"></p>
    <p id="screen"></p>
    <p id="orientation"></p>

    <p id="ip"></p>
    <p id="location"></p>
    <p id="gps"></p>

    <p id="visits"></p>
    <p id="clicks"></p>

    <h3 id="mapTitle">üó∫Ô∏è Visitor Map</h3>
    <iframe id="map"></iframe>
</div><script>
let lang = "en";  // default English

function setLang(l){
    lang = l;
    translateUI();
}

function translateUI(){
    if(lang === "kn"){
        document.getElementById("title").innerText = "üë§ ‡≤µ‡≥Ä‡≤ï‡≥ç‡≤∑‡≤ï‡≤∞ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤µ‡≤∞‡≤¶‡≤ø";
        document.getElementById("mapTitle").innerText = "üó∫Ô∏è ‡≤®‡≤ï‡≥ç‡≤∑‡≥Ü ‡≤∏‡≥ç‡≤•‡≤≥";
    } else {
        document.getElementById("title").innerText = "Visitor Intelligence Report";
        document.getElementById("mapTitle").innerText = "üó∫Ô∏è Visitor Map";
    }
}

// VISIT COUNTER
let visitCount = localStorage.getItem("visits") || 0;
visitCount++;
localStorage.setItem("visits", visitCount);

document.getElementById("visits").innerText =
    lang==="kn" ? "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤≠‡≥á‡≤ü‡≤ø‡≤ó‡≤≥‡≥Å: " + visitCount :
                  "Total Visits: " + visitCount;

// CLICK COUNTER
let clickCount = 0;
document.addEventListener("click", () => {
    clickCount++;
    document.getElementById("clicks").innerText =
        (lang==="kn" ? "‡≤∏‡≥ç‡≤ï‡≥ç‡≤∞‡≥Ä‡≤®‡≥ç ‡≤ï‡≥ç‡≤≤‡≤ø‡≤ï‡≥ç‡≤ï‡≥Å‡≤ó‡≤≥‡≥Å: " : "Screen Clicks: ") + clickCount;
});

// DEVICE INFO
document.getElementById("device").innerText = "Device: " + navigator.platform;
document.getElementById("browser").innerText = "Browser: " + navigator.userAgent;

// RAM
if(navigator.deviceMemory){
    document.getElementById("ram").innerText = "RAM: " + navigator.deviceMemory + " GB";
}

// NETWORK
if(navigator.connection){
    document.getElementById("network").innerText =
        "Network: " + navigator.connection.effectiveType;
}

// BATTERY
if(navigator.getBattery){
    navigator.getBattery().then(b=>{
        document.getElementById("battery").innerText =
            "Battery: " + Math.round(b.level*100)+"%" + (b.charging?" (Charging)":"");
    });
}

// SCREEN SIZE
document.getElementById("screen").innerText =
    "Screen: " + window.screen.width + " x " + window.screen.height;

// ORIENTATION
document.getElementById("orientation").innerText =
    "Orientation: " + (screen.orientation.type || "Unknown");

// IP + LOCATION
let ipData, loc;

fetch("https://api.ipify.org?format=json")
.then(res=>res.json())
.then(d=>{
    ipData = d;
    document.getElementById("ip").innerText = "IP: " + d.ip;

    return fetch("https://ipapi.co/json/");
})
.then(res=>res.json())
.then(data=>{
    loc = data;
    document.getElementById("location").innerText =
        "Location: " + data.city + ", " + data.region + ", " + data.country_name;

    document.getElementById("map").src =
        `https://maps.google.com/maps?q=${data.latitude},${data.longitude}&z=15&output=embed`;
});

// GPS (Live Tracking ‚Äì Requires Permission)
if(navigator.geolocation){
    navigator.geolocation.watchPosition(pos=>{
        document.getElementById("gps").innerText =
            "GPS: " + pos.coords.latitude.toFixed(5) + ", " + pos.coords.longitude.toFixed(5);

        document.getElementById("map").src =
            `https://maps.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}&z=16&output=embed`;
    },
    ()=>{
        document.getElementById("gps").innerText =
            lang==="kn" ? "GPS ‡≤Ö‡≤®‡≥Å‡≤Æ‡≤§‡≤ø ‡≤¨‡≥á‡≤ï‡≥Å!" : "Please allow GPS permission!";
    });
}

// SHOW DATA
setTimeout(()=>{
    document.querySelector(".loader").style.display="none";
    document.getElementById("dataBox").style.display="block";
}, 2000);
</script>

</body>
</html>
