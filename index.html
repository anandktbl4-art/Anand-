<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Super Advanced Visitor Dashboard</title>

<!-- PART 2 CSS ADD ‡≤Æ‡≤æ‡≤°‡≥ã‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≤ø‡≤® message ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø -->
<style>
</style>

</head>
<body>

<!-- LANGUAGE SWITCH -->
<button id="btnEN">English</button>
<button id="btnKN">‡≤ï‡≤®‡≥ç‡≤®‡≤°</button>

<h2 id="title">Visitor Intelligence Dashboard</h2>

<div class="box">

    <p id="device"></p>
    <p id="browser"></p>
    <p id="ram"></p>
    <p id="battery"></p>
    <p id="network"></p>
    <p id="screen"></p>
    <p id="orientation"></p>

    <p id="ip"></p>
    <p id="location"></p>

    <p id="gps"></p>

    <p id="visits"></p>
    <p id="clicks"></p>

    <h3>üó∫ Live Map</h3>
    <iframe id="map"></iframe>

    <h3>üì° Motion Sensor</h3>
    <p id="motion"></p>

    <h3>üí° Light Sensor</h3>
    <p id="light"></p>

</div>

<!-- PART 3 JS ADD ‡≤Æ‡≤æ‡≤°‡≥ã‡≤¶‡≥Å ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≤ø‡≤® message ‡≤®‡≤≤‡≥ç‡≤≤‡≤ø -->
<script>
</script>

</body>
</html>body {
    background: #000;
    color: #00ff00;
    font-family: Consolas, monospace;
    text-align: center;
    padding: 20px;
}

button {
    background: #00ff00;
    color: #000;
    padding: 8px 15px;
    border: none;
    font-weight: bold;
    border-radius: 5px;
    margin: 5px;
    cursor: pointer;
}

.box {
    border: 2px solid #00ff00;
    padding: 15px;
    border-radius: 10px;
    margin-top: 20px;
}

iframe {
    width: 100%;
    height: 260px;
    border: 2px solid #00ff00;
}

h2, h3 {
    color: #00ff00;
} // LANGUAGE SWITCH
document.getElementById("btnEN").onclick = () => setLang("en");
document.getElementById("btnKN").onclick = () => setLang("kn");

let lang = "en";

function setLang(l) {
    lang = l;
    translateUI();
}

function translateUI() {
    document.getElementById("title").innerText =
        lang === "kn" ? "‡≤≠‡≥á‡≤ü‡≤ø‡≤¶‡≤æ‡≤∞‡≤∞ ‡≤Æ‡≤æ‡≤π‡≤ø‡≤§‡≤ø ‡≤°‡≥ç‡≤Ø‡≤æ‡≤∂‡≥ç‚Äå‡≤¨‡≥ã‡≤∞‡≥ç‡≤°‡≥ç" : "Visitor Intelligence Dashboard";

    document.getElementById("visits").innerText =
        lang === "kn" ? "‡≤í‡≤ü‡≥ç‡≤ü‡≥Å ‡≤≠‡≥á‡≤ü‡≤ø‡≤ó‡≤≥‡≥Å: " + visitCount : "Total Visits: " + visitCount;

    document.getElementById("clicks").innerText =
        lang === "kn" ? "‡≤∏‡≥ç‡≤ï‡≥ç‡≤∞‡≥Ä‡≤®‡≥ç ‡≤ï‡≥ç‡≤≤‡≤ø‡≤ï‡≥ç‚Äå‡≤ó‡≤≥‡≥Å: " + clickCount : "Screen Clicks: " + clickCount;
}

// VISIT COUNTER
let visitCount = localStorage.getItem("visits") || 0;
visitCount++;
localStorage.setItem("visits", visitCount);

// CLICK COUNTER
let clickCount = 0;
document.addEventListener("click", () => {
    clickCount++;
    translateUI();
});

// DEVICE & BROWSER INFO
document.getElementById("device").innerText = "Device: " + navigator.platform;
document.getElementById("browser").innerText = "Browser: " + navigator.userAgent;

// SCREEN INFO
document.getElementById("screen").innerText =
    "Screen: " + window.screen.width + " x " + window.screen.height;

// ORIENTATION
document.getElementById("orientation").innerText =
    "Orientation: " + (screen.orientation.type || "Unknown");

// NETWORK INFO
if (navigator.connection) {
    document.getElementById("network").innerText =
        "Network: " + navigator.connection.effectiveType;
}

// BATTERY INFO
if (navigator.getBattery) {
    navigator.getBattery().then(b => {
        document.getElementById("battery").innerText =
            "Battery: " + Math.round(b.level * 100) + "% " + (b.charging ? "(Charging)" : "");
    });
}

// RAM INFO
if (navigator.deviceMemory) {
    document.getElementById("ram").innerText = "RAM: " + navigator.deviceMemory + " GB";
}

// MOTION SENSOR
window.addEventListener("deviceorientation", (e) => {
    document.getElementById("motion").innerText =
        "Motion ‚Üí X: " + e.beta + " | Y: " + e.gamma;
});

// LIGHT SENSOR (supported devices only)
if ("AmbientLightSensor" in window) {
    try {
        const sensor = new AmbientLightSensor();
        sensor.onreading = () => {
            document.getElementById("light").innerText =
                "Light Level: " + sensor.illuminance + " lx";
        };
        sensor.start();
    } catch (err) {
        document.getElementById("light").innerText = "Light Sensor Not Supported";
    }
} else {
    document.getElementById("light").innerText = "Light Sensor Not Supported";
}

// IP + Location
fetch("https://api.ipify.org?format=json")
    .then(r => r.json())
    .then(ip => {
        document.getElementById("ip").innerText = "IP: " + ip.ip;

        return fetch("https://ipapi.co/json/");
    })
    .then(r => r.json())
    .then(loc => {
        document.getElementById("location").innerText =
            "Location: " + loc.city + ", " + loc.region + ", " + loc.country_name;

        document.getElementById("map").src =
            `https://maps.google.com/maps?q=${loc.latitude},${loc.longitude}&z=15&output=embed`;
    });

// GPS (Permission Required)
if (navigator.geolocation) {
    navigator.geolocation.watchPosition(
        pos => {
            document.getElementById("gps").innerText =
                "GPS: " + pos.coords.latitude.toFixed(5) + ", " + pos.coords.longitude.toFixed(5);

            document.getElementById("map").src =
                `https://maps.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}&z=16&output=embed`;
        },
        () => {
            document.getElementById("gps").innerText =
                lang === "kn" ? "GPS ‡≤Ö‡≤®‡≥Å‡≤Æ‡≤§‡≤ø ‡≤ï‡≥ä‡≤°‡≤ø!" : "Please allow GPS permission!";
        }
    );
}
